openapi: 3.0.3
info:
  title: Cupboard API
  version: ''
  description: The official Cupboard API documentation. Cupboard is the ultimate kitchen
    companion that takes the hassle out of meal planning and grocery management!
  contact:
    email: teacup.backend@gmail.com
paths:
  /api/v3/ingredients:
    get:
      operationId: api_v3_ingredients_list
      description: |-
        Returns a dictionary containing the list of common ingredients
        and the list of user's custom ingredients in the database.
      tags:
      - Ingredients
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllIngredients'
              examples:
                AllIngredientsReturned:
                  value:
                  - common_ingredients:
                    - name: Beef
                      type: Meat
                    custom_ingredients:
                    - user: teacup
                      name: Beef
                      type: Meat
                  summary: All Ingredients Returned
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/measurements:
    get:
      operationId: api_v3_measurements_list
      description: Returns a list of all measurements in the database.
      tags:
      - Measurements
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Measurement'
              examples:
                AllMeasurementsReturned:
                  value:
                  - unit: g
                  summary: All Measurements Returned
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user:
    post:
      operationId: api_v3_user_create
      description: |-
        Creates a new user in the database based on Auth0 access token.
        Returns the user object.
      tags:
      - Users
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                UserCreated:
                  value:
                    username: teacup
                    email: teacup@domain.com
                  summary: User Created
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UnableToCreateUser:
                  value:
                    message: Username or email missing in the JWT token. Unable to
                      create new user.
                  summary: Unable to Create User
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/ingredients/custom:
    post:
      operationId: api_v3_user_ingredients_custom_create
      description: |-
        Creates a custom ingredient for the user.
        Returns the custom ingredient object.
      tags:
      - CustomIngredients
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddCustomIngredientRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddCustomIngredientRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddCustomIngredientRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomIngredient'
              examples:
                CustomIngredientCreated:
                  value:
                    user: teacup
                    name: Beef
                    type: Meat
                  summary: Custom Ingredient Created
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: Missing ingredient and type in message body.
                  summary: Required Value Missing
                FailedToCreate:
                  value:
                    message: Cannot create because the ingredient already exists in
                      the common ingredients. Please use the common ingredient instead.
                  summary: Failed to Create
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/ingredients/custom/{ingredient}:
    delete:
      operationId: api_v3_user_ingredients_custom_destroy
      description: |-
        Deletes a custom ingredient for the user.
        Returns the list of remaining custom ingredients for the user
      parameters:
      - in: path
        name: ingredient
        schema:
          type: string
        description: Name of the custom ingredient.
        required: true
      tags:
      - CustomIngredients
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CustomIngredient'
              examples:
                CustomIngredientDeleted:
                  value:
                  - user: teacup
                    name: Beef
                    type: Meat
                  summary: Custom Ingredient Deleted
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/lists:
    get:
      operationId: api_v3_user_lists_list
      description: Retrieves all the lists for a user.
      tags:
      - User's List
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserListIngredients'
              examples:
                AllUserListsRetrieved:
                  value:
                  - user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: All User Lists Retrieved
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
    put:
      operationId: api_v3_user_lists_update
      description: Changes the specified user's list name to another name.
      tags:
      - User's List
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangeUserIngredientsListNameRequest'
            examples:
              ChangeListName:
                value:
                  old_list_name: Pantry
                  new_list_name: Fridge
                summary: Change List Name
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangeUserIngredientsListNameRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangeUserIngredientsListNameRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListIngredients'
              examples:
                ListNameChanged:
                  value:
                    user: teacup
                    list_name: Fridge
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: List Name Changed
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {old_list_name:
                      [LISTNAME], new_list_name: [LISTNAME]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UserListNotFound:
                  value:
                    message: UserListIngredients matching query does not exist.
                  summary: User List not found
          description: ''
  /api/v3/user/lists/{list_name}:
    get:
      operationId: api_v3_user_lists_retrieve
      description: Retrieves the specific list for a user.
      parameters:
      - in: path
        name: list_name
        schema:
          type: string
        description: Name of the list.
        required: true
      tags:
      - User's List
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListIngredients'
              examples:
                UserListRetrieved:
                  value:
                    user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: User List Retrieved
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UserListNotFound:
                  value:
                    message: UserListIngredients matching query does not exist.
                  summary: User List not found
          description: ''
    post:
      operationId: api_v3_user_lists_create
      description: |-
        Create a new list for the user in the database. Users are limited to
        10 lists per user.
      parameters:
      - in: path
        name: list_name
        schema:
          type: string
        description: Name of the list.
        required: true
      tags:
      - User's List
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListIngredients'
              examples:
                User'sListCreated:
                  value:
                    user: teacup
                    list_name: Grocery
                    ingredients: []
                  summary: User's List Created
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: list_name parameter is missing or empty.
                  summary: Required Value Missing
                MaxUserListsReached:
                  value:
                    message: User has 10 lists. Max limit per user reached.
                  summary: Max User Lists Reached
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
    delete:
      operationId: api_v3_user_lists_destroy
      description: |-
        Deletes the specified list from the user's lists and returns
        all of the user's lists after the delete.
      parameters:
      - in: path
        name: list_name
        schema:
          type: string
        description: Name of the list.
        required: true
      tags:
      - User's List
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserListIngredients'
              examples:
                ListDeleted:
                  value:
                  - user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: List Deleted
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/lists/ingredients:
    post:
      operationId: api_v3_user_lists_ingredients_create
      description: Adds an ingredient to a specified user's list.
      tags:
      - User's List
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddIngredientInListRequest'
            examples:
              AddIngredientInList:
                value:
                  list_name: Grocery
                  ingredient: Beef
                  amount: 500
                  unit: g
                  is_custom_ingredient: false
                summary: Add Ingredient in List
              AddCustomIngredientInList:
                value:
                  list_name: Grocery
                  ingredient: Homemade Meatball
                  amount: 25
                  unit: count
                  is_custom_ingredient: true
                summary: Add Custom Ingredient in List
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddIngredientInListRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddIngredientInListRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListIngredients'
              examples:
                IngredientAdded:
                  value:
                    user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: Ingredient Added
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {list_name: [LISTNAME],
                      ingredient: [INGREDIENT], amount: [AMOUNT/QUANTITY], unit: [MEASURMENT
                      UNIT], is_custom_ingredient: [CUSTOM INGREDIENT BOOLEAN]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UserListNotFound:
                  value:
                    message: UserListIngredients matching query does not exist.
                  summary: User List not found
          description: ''
    patch:
      operationId: api_v3_user_lists_ingredients_partial_update
      description: |-
        Sets or moves an ingredient in a specified user's list.
        Subtracts the old ingredient amount from the specified "old" list and
        adds the new ingredient amount to the specified "new" list.
        Returns all of the user's lists.
      tags:
      - User's List
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUpdateIngredientInListRequest'
            examples:
              UpdateIngredientInSameList:
                value:
                  old_list_name: Grocery
                  old_ingredient: Beef
                  old_amount: 400
                  old_unit: lb
                  old_is_custom_ingredient: false
                  new_list_name: Grocery
                  new_ingredient: Beef
                  new_amount: 500
                  new_unit: g
                  new_is_custom_ingredient: false
                summary: Update Ingredient in same List
              MoveIngredientInListToAnotherList:
                value:
                  old_list_name: Grocery
                  old_ingredient: Pork
                  old_amount: 500
                  old_unit: g
                  old_is_custom_ingredient: false
                  new_list_name: Pantry
                  new_ingredient: Pork
                  new_amount: 500
                  new_unit: g
                  new_is_custom_ingredient: false
                summary: Move Ingredient in List to Another List
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUpdateIngredientInListRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUpdateIngredientInListRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserListIngredients'
              examples:
                IngredientUpdated:
                  value:
                  - user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: Ingredient Updated
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {old_list_name:
                      [LISTNAME], old_ingredient: [INGREDIENT], old_amount: [AMOUNT/QUANTITY],
                      old_unit: [MEASURMENT UNIT], new_list_name: [LISTNAME], new_ingredient:
                      [INGREDIENT], new_amount: [AMOUNT/QUANTITY], new_unit: [MEASURMENT
                      UNIT] is_custom_ingredient: [CUSTOM INGREDIENT BOOLEAN]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UserListNotFound:
                  value:
                    message: UserListIngredients matching query does not exist.
                  summary: User List not found
          description: ''
    delete:
      operationId: api_v3_user_lists_ingredients_destroy
      description: Deletes an ingredient from a specified user's list.
      parameters:
      - in: query
        name: ingredient
        schema:
          type: string
        description: Name of the ingredient.
        required: true
      - in: query
        name: is_custom_ingredient
        schema:
          type: boolean
        description: Flag if ingredient is a custom ingredient or not.
        required: true
      - in: query
        name: list_name
        schema:
          type: string
        description: Name of the list.
        required: true
      - in: query
        name: unit
        schema:
          type: string
        description: Unit of measurement for the ingredient.
        required: true
      tags:
      - User's List
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListIngredients'
              examples:
                IngredientDeleted:
                  value:
                    user: teacup
                    list_name: Grocery
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                  summary: Ingredient Deleted
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: Required query parameters missing from sent request.
                      Please add the following query parameters?list_name=[LISTNAME]&ingredient=[INGREDIENT]&unit=[MEASURMENT
                      UNIT]&is_custom_ingredient=[BOOLEAN]
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                UserListNotFound:
                  value:
                    message: UserListIngredients matching query does not exist.
                  summary: User List not found
          description: ''
  /api/v3/user/recipe:
    get:
      operationId: api_v3_user_recipe_list
      description: Retrieves all the recipes for a user.
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Recipe'
              examples:
                AllUserListsRetrieved:
                  value:
                  - user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: All User Lists Retrieved
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/recipe/{recipe_name}:
    get:
      operationId: api_v3_user_recipe_retrieve
      description: Retrieves the specific recipe for a user.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                RecipeRetrieved:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Recipe Retrieved
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
    post:
      operationId: api_v3_user_recipe_create
      description: Creates a recipe for the user. Returns the recipe object.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                RecipeCreated:
                  value:
                    user: teacup
                    recipe_name: Toast
                    ingredients: []
                    steps: []
                  summary: Recipe Created
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: recipe_name parameter is missing or empty.
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
    delete:
      operationId: api_v3_user_recipe_destroy
      description: |-
        Deletes the specified recipe from the user's recipes and returns
        all of the user's recipes after the delete.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Recipe'
              examples:
                RecipeDeleted:
                  value:
                  - user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Recipe Deleted
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
  /api/v3/user/recipe/{recipe_name}/ingredient:
    post:
      operationId: api_v3_user_recipe_ingredient_create
      description: Adds an ingredient to a specified user's recipe.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddIngredientInRecipeRequest'
            examples:
              AddIngredientInRecipe:
                value:
                  ingredient: Bread
                  amount: 1
                  unit: count
                  is_custom_ingredient: false
                summary: Add Ingredient in Recipe
              AddCustomIngredientInRecipe:
                value:
                  ingredient: Jam
                  amount: 25
                  unit: g
                  is_custom_ingredient: true
                summary: Add Custom Ingredient in Recipe
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddIngredientInRecipeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddIngredientInRecipeRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                IngredientAdded:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Ingredient Added
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeValueMissing:
                  value:
                    message: recipe_name parameter is missing or empty.
                  summary: Recipe Value Missing
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {recipe_name: [RECIPE
                      NAME], ingredient: [INGREDIENT], amount: [AMOUNT/QUANTITY],
                      unit: [MEASURMENT UNIT], is_custom_ingredient: [CUSTOM INGREDIENT
                      BOOLEAN]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
    delete:
      operationId: api_v3_user_recipe_ingredient_destroy
      description: Deletes an ingredient from a specified user's recipe.
      parameters:
      - in: query
        name: ingredient
        schema:
          type: string
        description: Name of the ingredient.
        required: true
      - in: query
        name: is_custom_ingredient
        schema:
          type: boolean
        description: Flag if ingredient is a custom ingredient or not.
        required: true
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      - in: query
        name: unit
        schema:
          type: string
        description: Unit of measurement for the ingredient.
        required: true
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                IngredientDeleted:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Ingredient Deleted
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeValueMissing:
                  value:
                    message: recipe_name parameter is missing or empty.
                  summary: Recipe Value Missing
                RequiredValueMissing:
                  value:
                    message: Required query parameters missing from sent request.
                      Please add the following query parameters?list_name=[RECIPE
                      NAME]&ingredient=[INGREDIENT]&unit=[MEASURMENT UNIT]&is_custom_ingredient=[BOOLEAN]
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
  /api/v3/user/recipe/{recipe_name}/step:
    post:
      operationId: api_v3_user_recipe_step_create
      description: Adds an step to a specified user's recipe.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddStepInRecipeRequest'
            examples:
              AddStepInRecipe:
                value:
                  step: Final step of my recipe!
                summary: Add Step in Recipe
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AddStepInRecipeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AddStepInRecipeRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                StepAdded:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Step Added
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeValueMissing:
                  value:
                    message: recipe_name parameter is missing or empty.
                  summary: Recipe Value Missing
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {step: [STEP STRING]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
    patch:
      operationId: api_v3_user_recipe_step_partial_update
      description: Updates an existing step in a specified user's recipe.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      tags:
      - Recipes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUpdateStepInRecipeRequest'
            examples:
              UpdateStepInRecipe:
                value:
                  step: Step two of my recipe!
                  step_number: 2
                summary: Update Step in Recipe
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUpdateStepInRecipeRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUpdateStepInRecipeRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                StepUpdated:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Step Updated
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeValueMissing:
                  value:
                    message: recipe_name parameter is missing or empty.
                  summary: Recipe Value Missing
                RequiredValueMissing:
                  value:
                    message: 'Required value missing from sent request, please ensure
                      all items are sent in the following format: {step: [STEP STRING],
                      step_number: [STEP NUMBER]}'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
    delete:
      operationId: api_v3_user_recipe_step_destroy
      description: Deletes an step from a specified user's recipe.
      parameters:
      - in: path
        name: recipe_name
        schema:
          type: string
        description: Name of the recipe.
        required: true
      - in: query
        name: step_number
        schema:
          type: string
        description: The number step to remove from a recipe.
        required: true
      tags:
      - Recipes
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Recipe'
              examples:
                StepDeleted:
                  value:
                    user: teacup
                    recipe_name: my_recipe
                    ingredients:
                    - ingredient_name: Beef
                      ingredient_type: Meat
                      amount: 500
                      unit: g
                      is_custom_ingredient: false
                    - ingredient_name: 2% Milk
                      ingredient_type: Dairy
                      amount: 2
                      unit: L
                      is_custom_ingredient: false
                    - ingredient_name: Homemade Meatball
                      ingredient_type: Meat
                      amount: 25
                      unit: count
                      is_custom_ingredient: true
                    steps:
                    - Step one of my recipe!
                    - Step two of my recipe!
                    - Final step of my recipe!
                  summary: Step Deleted
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: 'Required query parameter missing from sent request.
                      Please add the following query parameter: ?step_number=[STEP
                      NUMBER]'
                  summary: Required Value Missing
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                AuthenticationNotProvided:
                  value:
                    message: Authentication credentials were not provided.
                  summary: Authentication not provided
                InvalidToken:
                  value:
                    message: Given token not valid for any token type
                  summary: Invalid token
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RecipeNotFound:
                  value:
                    message: Recipe matching query does not exist.
                  summary: Recipe not found
          description: ''
  /login:
    post:
      operationId: login_create
      description: |-
        Logs in user using Auth0 if session is not set.
        Returns the access token, refresh token, id token, and user info.
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            examples:
              LoginCredentials:
                value:
                  username: cupboard@teacup.ca
                  password: Fake_password
                summary: Login Credentials
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LoginRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
              examples:
                LoginSuccess:
                  value:
                    access_token: very_long_jwt_token
                    refresh_token: refresh_token
                    id_token: very_long_jwt_token
                    issued_time: '2024-11-16 01:49:09'
                    expire_time: '2024-11-17 01:49:09'
                    user_info:
                      nickname: teacup.backend
                      name: cupboard@teacup.ca
                      picture: image_url
                      updated_at: '2024-11-16T07:49:07.640Z'
                      email: cupboard@teacup.ca
                      email_verified: true
                      iss: issuer_string
                      aud: audience_string
                      iat: 1731743349
                      exp: 1731779349
                      sub: auth0|fake_user_string
                      sid: session_id
                  summary: Login Success
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: Username or password missing.
                  summary: Required Value Missing
          description: ''
  /logout:
    post:
      operationId: logout_create
      description: Logs out the user from Auth0 and clears the session.
      tags:
      - Authentication
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                LogoutSuccess:
                  value:
                    message: Logout successful. Login again using the login endpoint.
                  summary: Logout Success
          description: ''
  /refresh-token:
    post:
      operationId: refresh_token_create
      description: Refreshes the access token for the user from Auth0.
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
            examples:
              AllBodyParameters:
                value:
                  client_id: skjehfgef98732984hjkfse
                  client_secret: whdkjsjkabuie32984hiou298qhdkj93782hiudh
                  refresh_token: iudoue98yu3ugifhkjo823iuygugik
                summary: All Body Parameters
              WithoutClientSecret:
                value:
                  client_id: skjehfgef98732984hjkfse
                  refresh_token: iudoue98yu3ugifhkjo823iuygugik
                summary: Without Client Secret
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
              examples:
                LoginSuccess:
                  value:
                    access_token: very_long_jwt_token
                    refresh_token: refresh_token
                    id_token: very_long_jwt_token
                    issued_time: '2024-11-16 01:49:09'
                    expire_time: '2024-11-17 01:49:09'
                    user_info:
                      nickname: teacup.backend
                      name: cupboard@teacup.ca
                      picture: image_url
                      updated_at: '2024-11-16T07:49:07.640Z'
                      email: cupboard@teacup.ca
                      email_verified: true
                      iss: issuer_string
                      aud: audience_string
                      iat: 1731743349
                      exp: 1731779349
                      sub: auth0|fake_user_string
                      sid: session_id
                  summary: Login Success
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
              examples:
                RequiredValueMissing:
                  value:
                    message: Client ID or Refresh token is missing.
                  summary: Required Value Missing
          description: ''
components:
  schemas:
    AddCustomIngredientRequest:
      type: object
      properties:
        ingredient:
          type: string
        type:
          type: string
      required:
      - ingredient
      - type
    AddIngredientInListRequest:
      type: object
      properties:
        list_name:
          type: string
        ingredient:
          type: string
        amount:
          type: number
          format: double
        unit:
          type: string
        is_custom_ingredient:
          type: boolean
      required:
      - amount
      - ingredient
      - is_custom_ingredient
      - list_name
      - unit
    AddIngredientInRecipeRequest:
      type: object
      properties:
        ingredient:
          type: string
        amount:
          type: number
          format: double
        unit:
          type: string
        is_custom_ingredient:
          type: boolean
      required:
      - amount
      - ingredient
      - is_custom_ingredient
      - unit
    AddStepInRecipeRequest:
      type: object
      properties:
        step:
          type: string
      required:
      - step
    AllIngredients:
      type: object
      properties:
        common_ingredients:
          type: array
          items:
            $ref: '#/components/schemas/Ingredient'
        custom_ingredients:
          type: array
          items:
            $ref: '#/components/schemas/CustomIngredient'
      required:
      - common_ingredients
      - custom_ingredients
    ChangeUserIngredientsListNameRequest:
      type: object
      properties:
        old_list_name:
          type: string
        new_list_name:
          type: string
      required:
      - new_list_name
      - old_list_name
    CustomIngredient:
      type: object
      properties:
        user:
          type: string
          readOnly: true
        name:
          type: string
          maxLength: 30
        type:
          type: string
          maxLength: 30
      required:
      - name
      - type
      - user
    Ingredient:
      type: object
      properties:
        name:
          type: string
          maxLength: 30
        type:
          type: string
          maxLength: 30
      required:
      - name
      - type
    LoginRequest:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
      required:
      - password
      - username
    Measurement:
      type: object
      properties:
        unit:
          type: string
          maxLength: 30
      required:
      - unit
    Message:
      type: object
      properties:
        message:
          type: string
      required:
      - message
    PatchedUpdateIngredientInListRequest:
      type: object
      properties:
        old_list_name:
          type: string
        old_ingredient:
          type: string
        old_amount:
          type: number
          format: double
        old_unit:
          type: string
        old_is_custom_ingredient:
          type: boolean
        new_list_name:
          type: string
        new_ingredient:
          type: string
        new_amount:
          type: number
          format: double
        new_unit:
          type: string
        new_is_custom_ingredient:
          type: boolean
    PatchedUpdateStepInRecipeRequest:
      type: object
      properties:
        step:
          type: string
        step_number:
          type: number
          format: double
    Recipe:
      type: object
      properties:
        user:
          type: string
          readOnly: true
        recipe_name:
          type: string
          maxLength: 50
        steps: {}
        ingredients: {}
      required:
      - ingredients
      - recipe_name
      - steps
      - user
    RefreshTokenRequest:
      type: object
      properties:
        client_id:
          type: string
        client_secret:
          type: string
        refresh_token:
          type: string
      required:
      - client_id
      - refresh_token
    Session:
      type: object
      properties:
        access_token:
          type: string
        refresh_token:
          type: string
        id_token:
          type: string
        issued_time:
          type: string
        expire_time:
          type: string
        user_info: {}
      required:
      - access_token
      - expire_time
      - id_token
      - issued_time
      - refresh_token
      - user_info
    User:
      type: object
      properties:
        username:
          type: string
          maxLength: 30
        email:
          type: string
          maxLength: 100
      required:
      - email
      - username
    UserListIngredients:
      type: object
      properties:
        user:
          type: string
          readOnly: true
        list_name:
          type: string
          readOnly: true
        ingredients: {}
      required:
      - ingredients
      - list_name
      - user
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
